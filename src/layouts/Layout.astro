---
interface Props {
  title: string;
  description?: string;
}

const { title, description = "A Japanese local shares authentic souvenirs from Japan" } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content={description}>
    <title>{title}</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500&family=Zen+Old+Mincho:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body class="font-sans antialiased selection:bg-jp-indigo selection:text-white bg-jp-offwhite text-jp-black">
    <slot />

    <script>
        // Header background change on scroll
        const header = document.getElementById('header');
        if (header) {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.classList.add('bg-jp-black/90', 'backdrop-blur-sm');
                } else {
                    header.classList.remove('bg-jp-black/90', 'backdrop-blur-sm');
                }
            });
        }

        // Intersection Observer for Fade-in animations
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in-section').forEach((section) => {
            observer.observe(section);
        });
    </script>
</body>
</html>

<style is:global>
    /* Custom styles */
    body {
        font-feature-settings: "palt";
    }

    /* Vertical writing class */
    .writing-vertical {
        writing-mode: vertical-rl;
        text-orientation: mixed;
        letter-spacing: 0.1em;
    }

    /* Scroll animation */
    .fade-in-section {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 1.2s ease-out, transform 1.2s ease-out;
        will-change: opacity, visibility;
    }
    .fade-in-section.is-visible {
        opacity: 1;
        transform: none;
    }

    /* Image hover effect */
    .img-zoom-container {
        overflow: hidden;
    }
    .img-zoom {
        transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    .group:hover .img-zoom {
        transform: scale(1.05);
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
    }
    ::-webkit-scrollbar-track {
        background: #f1f1f1;
    }
    ::-webkit-scrollbar-thumb {
        background: #ccc;
    }
    ::-webkit-scrollbar-thumb:hover {
        background: #888;
    }
</style>
